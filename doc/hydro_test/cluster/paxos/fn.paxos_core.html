<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Implements the core Paxos algorithm, which uses a cluster of propsers and acceptors to sequence payloads being sent to the proposers."><title>paxos_core in hydro_test::cluster::paxos - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="hydro_test" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0-nightly (f6092f224 2025-09-22)" data-channel="nightly" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-061df703.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">paxos_core</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../hydro_test/index.html">hydro_<wbr>test</a><span class="version">0.0.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">paxos_<wbr>core</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#non-determinism" title="Non-Determinism">Non-Determinism</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In hydro_<wbr>test::<wbr>cluster::<wbr>paxos</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">hydro_test</a>::<wbr><a href="../index.html">cluster</a>::<wbr><a href="index.html">paxos</a></div><h1>Function <span class="fn">paxos_<wbr>core</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/hydro_test/cluster/paxos.rs.html#135-234">Source</a> </span></div><pre class="rust item-decl"><code>pub fn paxos_core&lt;'a, P: <a class="trait" href="trait.PaxosPayload.html" title="trait hydro_test::cluster::paxos::PaxosPayload">PaxosPayload</a>&gt;(
    proposers: &amp;<a class="struct" href="../../../hydro_lang/location/cluster/struct.Cluster.html" title="struct hydro_lang::location::cluster::Cluster">Cluster</a>&lt;'a, <a class="struct" href="struct.Proposer.html" title="struct hydro_test::cluster::paxos::Proposer">Proposer</a>&gt;,
    acceptors: &amp;<a class="struct" href="../../../hydro_lang/location/cluster/struct.Cluster.html" title="struct hydro_lang::location::cluster::Cluster">Cluster</a>&lt;'a, <a class="struct" href="struct.Acceptor.html" title="struct hydro_test::cluster::paxos::Acceptor">Acceptor</a>&gt;,
    a_checkpoint: <a class="struct" href="../../../hydro_lang/live_collections/optional/struct.Optional.html" title="struct hydro_lang::live_collections::optional::Optional">Optional</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="../../../hydro_lang/location/cluster/struct.Cluster.html" title="struct hydro_lang::location::cluster::Cluster">Cluster</a>&lt;'a, <a class="struct" href="struct.Acceptor.html" title="struct hydro_test::cluster::paxos::Acceptor">Acceptor</a>&gt;, <a class="enum" href="../../../hydro_lang/live_collections/boundedness/enum.Unbounded.html" title="enum hydro_lang::live_collections::boundedness::Unbounded">Unbounded</a>&gt;,
    c_to_proposers: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>(<a class="struct" href="../../../hydro_lang/live_collections/stream/struct.Stream.html" title="struct hydro_lang::live_collections::stream::Stream">Stream</a>&lt;<a class="struct" href="struct.Ballot.html" title="struct hydro_test::cluster::paxos::Ballot">Ballot</a>, <a class="struct" href="../../../hydro_lang/location/cluster/struct.Cluster.html" title="struct hydro_lang::location::cluster::Cluster">Cluster</a>&lt;'a, <a class="struct" href="struct.Proposer.html" title="struct hydro_test::cluster::paxos::Proposer">Proposer</a>&gt;, <a class="enum" href="../../../hydro_lang/live_collections/boundedness/enum.Unbounded.html" title="enum hydro_lang::live_collections::boundedness::Unbounded">Unbounded</a>&gt;) -&gt; <a class="struct" href="../../../hydro_lang/live_collections/stream/struct.Stream.html" title="struct hydro_lang::live_collections::stream::Stream">Stream</a>&lt;P, <a class="struct" href="../../../hydro_lang/location/cluster/struct.Cluster.html" title="struct hydro_lang::location::cluster::Cluster">Cluster</a>&lt;'a, <a class="struct" href="struct.Proposer.html" title="struct hydro_test::cluster::paxos::Proposer">Proposer</a>&gt;, <a class="enum" href="../../../hydro_lang/live_collections/boundedness/enum.Unbounded.html" title="enum hydro_lang::live_collections::boundedness::Unbounded">Unbounded</a>&gt;,
    config: <a class="struct" href="struct.PaxosConfig.html" title="struct hydro_test::cluster::paxos::PaxosConfig">PaxosConfig</a>,
    nondet_leader: <a class="struct" href="../../../hydro_lang/nondet/struct.NonDet.html" title="struct hydro_lang::nondet::NonDet">NonDet</a>,
    nondet_commit: <a class="struct" href="../../../hydro_lang/nondet/struct.NonDet.html" title="struct hydro_lang::nondet::NonDet">NonDet</a>,
) -&gt; (<a class="struct" href="../../../hydro_lang/live_collections/stream/struct.Stream.html" title="struct hydro_lang::live_collections::stream::Stream">Stream</a>&lt;<a class="struct" href="struct.Ballot.html" title="struct hydro_test::cluster::paxos::Ballot">Ballot</a>, <a class="struct" href="../../../hydro_lang/location/cluster/struct.Cluster.html" title="struct hydro_lang::location::cluster::Cluster">Cluster</a>&lt;'a, <a class="struct" href="struct.Proposer.html" title="struct hydro_test::cluster::paxos::Proposer">Proposer</a>&gt;, <a class="enum" href="../../../hydro_lang/live_collections/boundedness/enum.Unbounded.html" title="enum hydro_lang::live_collections::boundedness::Unbounded">Unbounded</a>&gt;, <a class="struct" href="../../../hydro_lang/live_collections/stream/struct.Stream.html" title="struct hydro_lang::live_collections::stream::Stream">Stream</a>&lt;(<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;P&gt;), <a class="struct" href="../../../hydro_lang/location/cluster/struct.Cluster.html" title="struct hydro_lang::location::cluster::Cluster">Cluster</a>&lt;'a, <a class="struct" href="struct.Proposer.html" title="struct hydro_test::cluster::paxos::Proposer">Proposer</a>&gt;, <a class="enum" href="../../../hydro_lang/live_collections/boundedness/enum.Unbounded.html" title="enum hydro_lang::live_collections::boundedness::Unbounded">Unbounded</a>, <a class="enum" href="../../../hydro_lang/live_collections/stream/enum.NoOrder.html" title="enum hydro_lang::live_collections::stream::NoOrder">NoOrder</a>&gt;)</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Implements the core Paxos algorithm, which uses a cluster of propsers and acceptors
to sequence payloads being sent to the proposers.</p>
<p>Proposers that currently are the leader will work with acceptors to sequence incoming
payloads, but may drop payloads if they are not the lader or lose leadership during
the commit process.</p>
<p>Returns a stream of ballots, where new values are emitted when a new leader is elected,
and a stream of sequenced payloads with an index and optional payload (in the case of
holes in the log).</p>
<h2 id="non-determinism"><a class="doc-anchor" href="#non-determinism">ยง</a>Non-Determinism</h2>
<p>When the leader is stable, the algorithm will commit incoming payloads to the leader
in deterministic order. However, when the leader is changing, payloads may be
non-deterministically dropped. The stream of ballots is also non-deterministic because
leaders are elected in a non-deterministic process.</p>
</div></details></section></div></main></body></html>